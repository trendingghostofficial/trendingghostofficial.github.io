import{a as R}from"./chunk-5X2H7JSN.js";import{g as L}from"./chunk-4HMG7GTE.js";import{a as N}from"./chunk-36VGOLWJ.js";import{Ea as o,Hb as D,Ib as c,Jb as p,Ka as h,Kb as B,Oa as k,Pb as V,T as y,U as S,V as E,W as w,Ya as I,Za as d,Zb as $,_a as m,_b as q,ab as C,bb as x,cb as T,db as i,eb as a,fb as _,hc as j,ib as z,kb as F,mb as s,sb as g,tb as P,vb as r,wb as f,xb as M,yb as u,zb as v}from"./chunk-WFDDHHQC.js";var A=(e,n)=>["/capitulos",e,n],O=(e,n)=>n.numero;function G(e,n){e&1&&(i(0,"div",3),_(1,"div",5),i(2,"p"),r(3),c(4,"translate"),a()()),e&2&&(o(3),f(p(4,1,"chapters.loading")))}function H(e,n){if(e&1&&(i(0,"div",4)(1,"p"),r(2),c(3,"translate"),a()()),e&2){let t=s();o(2),u("",p(3,2,"chapters.error_prefix")," ",t.error)}}function J(e,n){e&1&&(i(0,"span",17),r(1,"\u26A1"),a())}function U(e,n){if(e&1){let t=z();i(0,"button",13),F("click",function(){let b=y(t).$implicit,Y=s(2);return S(Y.selectVolumen(b.numero))}),i(1,"span",14),r(2),c(3,"translate"),a(),i(4,"span",15),r(5),a(),i(6,"span",16),r(7),a(),d(8,J,2,0,"span",17),a()}if(e&2){let t=n.$implicit,l=s(2);g("--tab-color",t.color_tema),P("active",l.selectedVolumen===t.numero),o(2),u("",p(3,9,"chapters.vol_prefix")," ",t.numero),o(3),f(t.titulo),o(2),f(t.rango),o(),m(t.estado==="publicacion"?8:-1)}}function K(e,n){e&1&&(i(0,"span",23),r(1),c(2,"translate"),a()),e&2&&(o(),f(p(2,1,"chapters.in_publication")))}function Q(e,n){e&1&&(i(0,"span",24),r(1),c(2,"translate"),a()),e&2&&(o(),f(p(2,1,"chapters.in_planning")))}function W(e,n){if(e&1&&(i(0,"a",37),r(1),c(2,"translate"),a()),e&2){let t=s().$implicit,l=s(2).$implicit;T("routerLink",D(6,A,l.numero,t.numero)),o(),v(" ",p(2,4,"chapters.chapter")," ",t.numero," - ",t.titulo," ")}}function Z(e,n){if(e&1&&(i(0,"span",38),r(1),c(2,"translate"),a()),e&2){let t=s().$implicit;o(),v("",p(2,3,"chapters.chapter")," ",t.numero," - ",t.titulo)}}function tt(e,n){if(e&1&&(i(0,"span"),r(1),c(2,"translate"),a()),e&2){let t=s().$implicit;o(),u(" \xB7 ",t.minutos," ",p(2,2,"chapters.min_read"))}}function et(e,n){if(e&1&&(i(0,"span"),r(1),c(2,"translate"),a()),e&2){let t=s().$implicit;o(),u(" \xB7 ",t.palabras," ",p(2,2,"chapters.words"))}}function nt(e,n){e&1&&(i(0,"span",40),r(1,"\u{1F512}"),a())}function ot(e,n){if(e&1&&(i(0,"p",41),r(1),a()),e&2){let t=s().$implicit;o(),f(t.excerpt)}}function it(e,n){e&1&&(i(0,"span",42),r(1),c(2,"translate"),a()),e&2&&(o(),f(p(2,1,"chapters.coming_soon")))}function at(e,n){if(e&1&&(i(0,"div",33)(1,"div",34)(2,"span",35),r(3),a(),i(4,"div",36)(5,"h4"),d(6,W,3,9,"a",37)(7,Z,3,5,"span",38),a(),i(8,"p",39),r(9),d(10,tt,3,4,"span"),d(11,et,3,4,"span"),a()(),d(12,nt,2,0,"span",40),a(),d(13,ot,2,1,"p",41),d(14,it,3,3,"span",42),a()),e&2){let t=n.$implicit;P("publicado",t.publicado)("bloqueado",!t.publicado),o(3),f(t.icono),o(3),m(t.publicado?6:7),o(3),M(" ",t.fecha," "),o(),m(t.minutos>0?10:-1),o(),m(t.palabras>0?11:-1),o(),m(t.publicado?-1:12),o(),m(t.excerpt&&t.publicado?13:-1),o(),m(t.publicado?-1:14)}}function rt(e,n){if(e&1&&(i(0,"div",18)(1,"div",19)(2,"div",20)(3,"h2"),r(4),a(),i(5,"p",21),r(6),a(),i(7,"p",22),r(8),c(9,"translate"),d(10,K,3,3,"span",23)(11,Q,3,3,"span",24),a()(),i(12,"div",25)(13,"div",26),E(),i(14,"svg",27),_(15,"path",28)(16,"path",29),i(17,"text",30),r(18),c(19,"number"),a()()()()(),w(),i(20,"div",31),C(21,at,15,12,"div",32,O),a()()),e&2){let t=s().$implicit,l=s(2);o(),g("--volumen-color",t.color_tema),o(3),f(t.titulo),o(2),f(t.subtitulo),o(2),u("",p(9,11,"chapters.title")," ",t.rango," \xB7 "),o(2),m(t.estado==="publicacion"?10:11),o(6),g("stroke",t.color_tema),I("stroke-dasharray",l.getProgresoVolumen(t.numero)+", 100"),o(2),M("",B(19,13,l.getProgresoVolumen(t.numero),"1.0-0"),"%"),o(3),x(l.getCapitulosDelVolumen(t.numero))}}function lt(e,n){if(e&1&&d(0,rt,23,16,"div",18),e&2){let t=n.$implicit,l=s(2);m(l.selectedVolumen===t.numero?0:-1)}}function ct(e,n){if(e&1&&(i(0,"div",6),_(1,"div",7),a(),i(2,"p",8),r(3),c(4,"translate"),a(),i(5,"div",9)(6,"div",10),C(7,U,9,11,"button",11,O),a(),i(9,"div",12),C(10,lt,1,1,null,null,O),a()()),e&2){let t=s();o(),g("width",t.progreso,"%"),o(2),v("",t.capitulosPublicados,"/",t.totalCapitulos," ",p(4,5,"chapters.published")),o(4),x(t.volumenes),o(3),x(t.volumenes)}}var X=class e{constructor(n,t){this.capitulosData=n;this.cdr=t}selectedVolumen=1;volumenes=[];capitulosPublicados=0;totalCapitulos=100;loading=!0;error=null;ngOnInit(){console.clear(),console.log("%c\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557","color: #00ffff; font-weight: bold;"),console.log("%c\u2551                \u{1F4DA} CAP\xCDTULOS - \xCDNDICE                          \u2551","color: #00ffff; font-size: 16px; font-weight: bold;"),console.log("%c\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D","color: #00ffff; font-weight: bold;"),console.log(`%c
\u{1F4D6} Cargando cap\xEDtulos desde JSON...`,"color: #ff00ff; font-size: 13px; font-weight: bold;"),this.capitulosData.getIndex().subscribe({next:n=>{this.volumenes=n.volumenes,this.capitulosPublicados=n.publicados,this.totalCapitulos=100,this.loading=!1,this.cdr.detectChanges(),console.log("%c\u2705 \xCDndice cargado exitosamente","color: #00ff00; font-weight: bold;"),console.log(`%c\u{1F4D6} ${n.total} cap\xEDtulos \xB7 ${n.volumenes.length} vol\xFAmenes`,"color: #ff00ff; font-size: 13px;"),console.log(`%c\u2705 ${n.publicados} publicados \xB7 \u{1F4C5} Pr\xF3ximo: ${n.proximo_publicacion||"TBD"}`,"color: #00ffff; font-size: 12px;"),console.log(`%c
\u{1F4A1} TIP: Los cap\xEDtulos se desbloquean progresivamente al publicarse.`,"color: #ff00ff; font-size: 11px;"),console.log(`%c
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
`,"color: #888888;")},error:n=>{this.loading=!1,this.error="Error cargando cap\xEDtulos. Por favor, recarga la p\xE1gina.",this.cdr.detectChanges(),console.error("\u274C Error cargando \xEDndice:",n)}})}get progreso(){return this.totalCapitulos===0?0:this.capitulosPublicados/this.totalCapitulos*100}selectVolumen(n){this.selectedVolumen=n}getCapitulosDelVolumen(n){let t=this.volumenes.find(l=>l.numero===n);return t?t.capitulos:[]}getProgresoVolumen(n){let t=this.getCapitulosDelVolumen(n);return t.length===0?0:t.filter(b=>b.publicado).length/t.length*100}static \u0275fac=function(t){return new(t||e)(h(R),h(V))};static \u0275cmp=k({type:e,selectors:[["app-capitulos"]],decls:12,vars:9,consts:[[1,"capitulos-index"],[1,"container"],[1,"subtitle"],[1,"loading-state"],[1,"error-state"],[1,"spinner"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"volumenes-tabs"],[1,"tabs-header"],[1,"tab-button",3,"active","--tab-color"],[1,"tabs-content"],[1,"tab-button",3,"click"],[1,"tab-numero"],[1,"tab-titulo"],[1,"tab-rango"],[1,"tab-badge"],[1,"tab-panel"],[1,"volumen-header"],[1,"volumen-info"],[1,"volumen-subtitulo"],[1,"volumen-meta"],[1,"estado-publicacion"],[1,"estado-planificacion"],[1,"volumen-progress"],[1,"progress-circle"],["viewBox","0 0 36 36"],["d","M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",1,"circle-bg"],["d","M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",1,"circle-progress"],["x","18","y","20.5",1,"progress-text"],[1,"capitulos-list"],[1,"capitulo-card",3,"publicado","bloqueado"],[1,"capitulo-card"],[1,"capitulo-header"],[1,"capitulo-icon"],[1,"capitulo-info"],[3,"routerLink"],[1,"titulo-bloqueado"],[1,"capitulo-meta"],[1,"lock-icon"],[1,"capitulo-excerpt"],[1,"coming-soon"]],template:function(t,l){t&1&&(i(0,"section",0)(1,"div",1)(2,"h1"),r(3),c(4,"translate"),a(),i(5,"p",2),r(6),c(7,"translate"),a(),d(8,G,5,3,"div",3),d(9,H,4,4,"div",4),d(10,ct,12,7),a()(),_(11,"app-scroll-to-top")),t&2&&(o(3),f(p(4,5,"chapters.title")),o(3),f(p(7,7,"chapters.subtitle")),o(2),m(l.loading?8:-1),o(),m(l.error?9:-1),o(),m(!l.loading&&!l.error?10:-1))},dependencies:[L,N,q,$,j],styles:['.capitulos-index[_ngcontent-%COMP%]{padding:4rem 0}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:.5rem;font-size:3rem}.subtitle[_ngcontent-%COMP%]{text-align:center;color:var(--text-muted);font-family:var(--font-mono);margin-bottom:2rem;font-size:.9rem}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;min-height:400px}.spinner[_ngcontent-%COMP%]{width:60px;height:60px;border:4px solid rgba(0,255,255,.1);border-top-color:var(--cyan);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1.5rem;color:var(--cyan);font-family:var(--font-mono);font-size:.9rem;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.error-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;background:#ff00001a;border:2px solid rgba(255,0,0,.3);border-radius:8px;margin:2rem 0}.error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--magenta);font-family:var(--font-mono);font-size:1rem}.progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#00ffff1a;border-radius:4px;overflow:hidden;margin:2rem auto;max-width:800px;position:relative}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,var(--cyan),var(--magenta));border-radius:4px;transition:width .5s ease;box-shadow:0 0 20px var(--cyan)}.progress-text[_ngcontent-%COMP%]{text-align:center;color:var(--cyan);font-family:var(--font-mono);font-size:.85rem;margin-top:.5rem;margin-bottom:3rem}.volumenes-tabs[_ngcontent-%COMP%]{margin-top:3rem}.tabs-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:2rem}.tab-button[_ngcontent-%COMP%]{background:#00000080;border:2px solid rgba(255,255,255,.1);padding:1.5rem 1rem;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden;display:flex;flex-direction:column;align-items:center;gap:.5rem;color:var(--text-muted)}.tab-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:2px;background:var(--tab-color, #00ffff);transform:scaleX(0);transition:transform .3s ease}.tab-button[_ngcontent-%COMP%]:hover{border-color:var(--tab-color, #00ffff);transform:translateY(-2px)}.tab-button[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.tab-button.active[_ngcontent-%COMP%]{background:#00ffff0d;border-color:var(--tab-color, #00ffff);color:var(--tab-color, #00ffff);box-shadow:0 0 20px #00ffff4d,inset 0 0 20px #00ffff1a}.tab-button.active[_ngcontent-%COMP%]:before{transform:scaleX(1);box-shadow:0 0 10px var(--tab-color, #00ffff)}.tab-numero[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.75rem;opacity:.6;letter-spacing:2px}.tab-titulo[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;text-transform:uppercase;letter-spacing:1px}.tab-rango[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.8rem;opacity:.5}.tab-badge[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;font-size:1.2rem;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(1.2)}}.tabs-content[_ngcontent-%COMP%]{position:relative;min-height:400px}.tab-panel[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .4s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.volumen-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#000c,#00000080);border:2px solid var(--volumen-color, #00ffff);border-radius:8px;padding:2rem;margin-bottom:2rem;display:flex;justify-content:space-between;align-items:center;box-shadow:0 0 30px #0ff3,inset 0 0 30px #00ffff0d}.volumen-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--volumen-color, #00ffff);text-shadow:0 0 20px var(--volumen-color, #00ffff);margin-bottom:.5rem;font-size:2rem}.volumen-subtitulo[_ngcontent-%COMP%]{color:var(--text-muted);font-style:italic;margin-bottom:.5rem;font-size:1rem}.volumen-meta[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.85rem;color:var(--text-muted)}.estado-publicacion[_ngcontent-%COMP%]{color:var(--cyan);font-weight:700}.estado-planificacion[_ngcontent-%COMP%]{color:var(--text-muted);font-style:italic}.volumen-progress[_ngcontent-%COMP%]{flex-shrink:0}.progress-circle[_ngcontent-%COMP%]{width:100px;height:100px}.progress-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(-90deg)}.circle-bg[_ngcontent-%COMP%]{fill:none;stroke:#ffffff1a;stroke-width:2.8}.circle-progress[_ngcontent-%COMP%]{fill:none;stroke-width:2.8;stroke-linecap:round;transition:stroke-dasharray .6s ease;filter:drop-shadow(0 0 5px currentColor)}.progress-circle[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:var(--cyan);font-family:var(--font-mono);font-size:.5rem;font-weight:700;text-anchor:middle;transform:rotate(90deg) translate(18px)}.capitulos-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.capitulo-card[_ngcontent-%COMP%]{background:#00000080;border:2px solid rgba(0,255,255,.2);border-radius:8px;padding:1.5rem;transition:all .3s ease;position:relative}.capitulo-card.publicado[_ngcontent-%COMP%]{border-color:var(--cyan);background:#00ffff08}.capitulo-card.publicado[_ngcontent-%COMP%]:hover{transform:translate(5px);box-shadow:0 5px 25px #00ffff4d,inset 0 0 20px #00ffff0d;border-color:var(--cyan)}.capitulo-card.bloqueado[_ngcontent-%COMP%]{opacity:.5;border-color:#ffffff1a}.capitulo-header[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-start;position:relative}.capitulo-icon[_ngcontent-%COMP%]{font-size:2rem;flex-shrink:0;filter:grayscale(100%);transition:filter .3s ease}.capitulo-card.publicado[_ngcontent-%COMP%]   .capitulo-icon[_ngcontent-%COMP%]{filter:grayscale(0%)}.capitulo-info[_ngcontent-%COMP%]{flex:1}.capitulo-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.1rem;line-height:1.4}.capitulo-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--cyan);text-decoration:none;transition:all .3s ease}.capitulo-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--magenta);text-shadow:0 0 10px var(--magenta)}.titulo-bloqueado[_ngcontent-%COMP%]{color:var(--text-muted)}.capitulo-meta[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:.85rem;color:var(--text-muted);margin:0}.lock-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;font-size:1.5rem;opacity:.3}.capitulo-excerpt[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(255,255,255,.1);color:var(--text-muted);font-size:.9rem;line-height:1.6;font-style:italic}.coming-soon[_ngcontent-%COMP%]{display:inline-block;margin-top:1rem;padding:.25rem .75rem;background:#ff00ff1a;border:1px solid var(--magenta);border-radius:4px;color:var(--magenta);font-family:var(--font-mono);font-size:.75rem;text-transform:uppercase;letter-spacing:1px}@media(max-width:768px){.tabs-header[_ngcontent-%COMP%]{grid-template-columns:1fr}.volumen-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1.5rem}.volumen-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.capitulo-card[_ngcontent-%COMP%]{padding:1rem}.capitulo-icon[_ngcontent-%COMP%]{font-size:1.5rem}}']})};export{X as CapitulosComponent};
